(this["webpackJsonptouch-typing-trainer"]=this["webpackJsonptouch-typing-trainer"]||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),s=n(4),a=n.n(s),c=(n(13),n(5)),u=n(6),o=n(2),p=n(8),h=n(7),l=(n(14),n(0));var d=function(t){return Object(l.jsx)("div",{className:"popup ".concat(t.isOpen?"popup_is-opened":""),children:Object(l.jsx)("div",{className:"popup__container",children:t.children})})};n(16),n(17);var j=function(t){var e=t.letter,n=t.countLetter,r=t.letterErr,i=t.index;return Object(l.jsx)("span",{className:"letter ".concat(n===i?"letter_current":"").concat(r===i?"-err":"").concat(n>i?"letter_passed":""),children:e})};var f=function(t){var e=t.arrayOfLetters,n=t.countLetter,r=t.letterErr,i=t.printSpeed,s=t.accuracy,a=t.resetTraining;return Object(l.jsxs)("div",{className:"training",children:[Object(l.jsx)("div",{className:"training__text-container",children:e.map((function(t,e){return Object(l.jsx)(j,{letter:t,countLetter:n,letterErr:r,index:e},e)}))}),Object(l.jsxs)("div",{className:"training__info",children:[Object(l.jsx)("p",{className:"training__info-item",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"}),Object(l.jsxs)("p",{className:"training__info-item",children:[i," \u0437\u043d./\u043c\u0438\u043d"]}),Object(l.jsx)("p",{className:"training__info-item",children:"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c"}),Object(l.jsxs)("p",{className:"training__info-item",children:[s," %"]}),Object(l.jsx)("button",{className:"training__reset",onClick:function(){a(!0)},children:"\u0417\u0430\u043d\u043e\u0432\u043e"})]})]})},O=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={countLetter:0,countErr:0,letterErr:-1,arrayOfLetters:[],printSpeed:0,starting:!1,timerId:"",isOpenPopupLayout:!1,isOpenPopupFinish:!1},t.handleKeyupBind=t.handleKeyup.bind(Object(o.a)(t)),t.handleStarting=t.handleStarting.bind(Object(o.a)(t)),t.resetTraining=t.resetTraining.bind(Object(o.a)(t)),t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.updateArrayOfLetters()}},{key:"updateArrayOfLetters",value:function(){var t=this;fetch("https://baconipsum.com/api/?type=all-meat&paras=1").then((function(t){return t.ok?t.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(t.status))})).then((function(e){t.setState({arrayOfLetters:e.join("  ").replace(/\s+/g," ").split("")})})).catch((function(t){alert(t)}))}},{key:"handleStarting",value:function(t){t.target.blur(),this.setState({starting:!0}),this.updatePrintSpeed(),document.addEventListener("keyup",this.handleKeyupBind)}},{key:"updatePrintSpeed",value:function(){var t=this,e=new Date,n=setInterval((function(){var n=new Date,r=Math.round(t.state.countLetter/((+n-+e)/6e4));t.setState({printSpeed:r})}),1e3);this.setState({timerId:n})}},{key:"handleKeyup",value:function(t){if(!this.checkKkeyModifier(t))return this.checkKkeyFinish()?(this.setState({isOpenPopupFinish:!0}),void this.removeListeners()):this.checkKkeyRu(t)?(this.setState({isOpenPopupLayout:!0,countLetter:0,countErr:0,letterErr:-1,printSpeed:0}),void this.removeListeners()):void(this.checkKkeyErr(t)||this.setState((function(t){return{countLetter:t.countLetter+1,letterErr:-1}})))}},{key:"checkKkeyModifier",value:function(t){return t.key.length>1}},{key:"checkKkeyFinish",value:function(){return this.state.countLetter+1===this.state.arrayOfLetters.length}},{key:"checkKkeyRu",value:function(t){return/[\u0410-\u044f\u0430-\u044f\u0401\u0451]/.test(t.key)}},{key:"checkKkeyErr",value:function(t){if(t.key!==this.state.arrayOfLetters[this.state.countLetter])return this.setState((function(t){return{letterErr:t.countLetter,countErr:t.countErr+1}})),!0}},{key:"resetTraining",value:function(t){t&&this.updateArrayOfLetters(),this.setState({isOpenPopupLayout:!1,isOpenPopupFinish:!1,starting:!1,countLetter:0,countErr:0,letterErr:-1,printSpeed:0}),this.removeListeners()}},{key:"removeListeners",value:function(){clearInterval(this.state.timerId),document.removeEventListener("keyup",this.handleKeyupBind)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyupBind)}},{key:"render",value:function(){var t=this,e=100-(this.state.countErr/this.state.arrayOfLetters.length*100).toFixed(2)||100;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(d,{isOpen:!this.state.starting,children:[Object(l.jsx)("h1",{className:"popup__title",children:"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u044c\u0441\u044f \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c. \u041f\u043e\u0435\u0445\u0430\u043b\u0438!"}),Object(l.jsx)("button",{onClick:this.handleStarting,className:"popup__button",children:"\u041d\u0430\u0447\u0430\u0442\u044c \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c"})]}),Object(l.jsxs)(d,{isOpen:this.state.isOpenPopupLayout,children:[Object(l.jsx)("h1",{className:"popup__title",children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u043c\u0435\u043d\u0438 \u0440\u0430\u0441\u043a\u043b\u0430\u0434\u043a\u0443 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u043d\u0430 English."}),Object(l.jsx)("button",{onClick:function(){t.resetTraining(!1)},className:"popup__button",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"})]}),Object(l.jsxs)(d,{isOpen:this.state.isOpenPopupFinish,children:[Object(l.jsx)("h1",{className:"popup__title",children:"\u041d\u0443, \u043d\u0435\u043f\u043b\u043e\u0445\u043e!"}),Object(l.jsxs)("p",{className:"popup__text",children:["\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043f\u0435\u0447\u0430\u0442\u0438: ",this.state.printSpeed," \u0437\u043d./\u043c\u0438\u043d"]}),Object(l.jsxs)("p",{className:"popup__text",children:["\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c: ",e," %"]}),Object(l.jsx)("button",{onClick:function(){t.resetTraining(!0)},className:"popup__button",children:"\u0417\u0430\u043d\u043e\u0432\u043e"})]}),Object(l.jsx)(f,{arrayOfLetters:this.state.arrayOfLetters,countLetter:this.state.countLetter,letterErr:this.state.letterErr,printSpeed:this.state.printSpeed,accuracy:e,resetTraining:this.resetTraining})]})}}]),n}(i.a.Component),y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),s(t),a(t)}))};a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root")),y()}],[[18,1,2]]]);
//# sourceMappingURL=main.e6110294.chunk.js.map